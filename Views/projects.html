{% extends "base.html" %}

{% block body %}

{% if id is defined %}
{% set project = projects[id] %}
<div class='section'>
  <h1>{{ project.title }}</h1>
  {% if project.img is defined %}
  <div class='img-group'>
    <div class='img' style='background-image:url({{ project.img }})'></div>
  </div>
  {% endif %}
  <h3 style='font-weight:700;text-transform:uppercase;'>Client: {{ project.client }}</h3>
  {% for para in project.desc %}
  <p>{{ para }}</p>
  {% endfor %}
  {% if project.url is defined %}
  <a class='button no_pace' target='_BLANK' href='{{ project.url }}'>VIEW THIS PROJECT</a>
  {% endif %}
</div>
{% else %}
<div class='section'>
  <h1>our projects</h1>
  <h3>As a service, Coding for Good has undertaken numerous different projects, ranging from websites to apps. Below, you may read more about each project and view the finished result.</h3>
</div>
<div class='card-group'>
  {% for id, project in projects %}
  <div class='card-container'>
    <a href='/projects/{{ id }}' class='card'>
      {% if project.img is defined %}
      <div class='card-img' style='background-image:url({{ project.img }})'></div>
      {% endif %}
      <div class='card-content'>
        <h5 class='card-title'>{{ project.title }}</h5>
        <p class=' card-text'>{{ "#{project.desc[0]|split(' ')|slice(0, project.img is defined ? 10 : 40)|join(' ')}..." }}</p>
      </div>
    </a>
  </div>
  {% endfor %}
</div>
{% endif %}

{% endblock %}